# [92. åè½¬é“¾è¡¨ II](https://leetcode.cn/problems/reverse-linked-list-ii/)

> - ***Question***
>   - ç»™ä½ å•é“¾è¡¨çš„å¤´æŒ‡é’ˆ `head` å’Œä¸¤ä¸ªæ•´æ•° `left` å’Œ `right` ï¼Œå…¶ä¸­ `left <= right` ã€‚è¯·ä½ åè½¬ä»ä½ç½® `left` åˆ°ä½ç½® `right` çš„é“¾è¡¨èŠ‚ç‚¹ï¼Œè¿”å›åè½¬åçš„é“¾è¡¨çš„å¤´èŠ‚ç‚¹
>   - é“¾è¡¨ä¸­èŠ‚ç‚¹æ•°ç›®ä¸º `n` 
>   - `1 <= n <= 500`
>   - `-500 <= Node.val <= 500`
>   - `1 <= left <= right <= n`

---

## *Java*

> - ***ä¸¤æ¬¡éå†åè½¬å•é“¾è¡¨åŒºé—´***
>   - æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå“¨å…µèŠ‚ç‚¹ï¼Œä½¿å…¶ `next` æŒ‡é’ˆæŒ‡å‘é“¾è¡¨çš„å¤´èŠ‚ç‚¹
>   - ç„¶åæˆ‘ä»¬è®© `pre` ä»å“¨å…µèŠ‚ç‚¹èµ°åˆ° `left` å‰çš„èŠ‚ç‚¹ï¼Œç„¶åç»§ç»­éå†é“¾è¡¨æ‰¾åˆ° `left` å’Œ `right` èŠ‚ç‚¹ä»¥åŠ `right` çš„åä¸€ä¸ªèŠ‚ç‚¹
>   - ç„¶ååˆ‡æ–­é“¾è¡¨ï¼Œåè½¬åŒºé—´å†…çš„é“¾è¡¨ï¼ˆå¦‚ä¸Šï¼‰ï¼Œæœ€åå†æ¥å›æ¥
> - ***ä¸€æ¬¡éå†åè½¬å•é“¾è¡¨åŒºé—´***
>   -  `pre` çš„åŠ¨ä½œå’Œä¸¤æ¬¡éå†ç›¸åŒï¼Œæ°¸è¿œæŒ‡å‘é“¾è¡¨ä¸­ `left` ä½ç½®çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œåœ¨å¾ªç¯è¿‡ç¨‹ä¸­ä¸å˜
>   -  `cur` ï¼šæŒ‡å‘å¾…åè½¬åŒºåŸŸçš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå³æœ€å¼€å§‹çš„ `left` 
>   -  `next` ï¼šæ°¸è¿œæŒ‡å‘ `cur` çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¾ªç¯è¿‡ç¨‹ä¸­ï¼Œ`cur` å˜åŒ–ä»¥å `next` ä¼šå˜åŒ–
>   - ç„¶å `cur` ä»éœ€è¦åè½¬çš„åŒºé—´é‡Œå¼€å§‹ï¼Œæ¯éå†åˆ°ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè®©è¿™ä¸ªæ–°èŠ‚ç‚¹æ¥åˆ°åè½¬éƒ¨åˆ†çš„èµ·å§‹ä½ç½®ï¼š
>     - å…ˆå°† `cur` çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹è®°å½•ä¸º `next` 
>     - æŠŠ `cur` çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘ `next` çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
>     - æŠŠ `next` çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘ `pre` çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
>     - æŠŠ `pre` çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘ `next`
>   - å½“ `cur` æ¥åˆ° `right` ä½ç½®æ—¶ç»“æŸ

```
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode() {}
 *     ListNode(int val) { this.val = val; }
 *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }
 * }
 */
class Solution {
    
    public ListNode reverseBetween(ListNode head, int left, int right) {
        // return reverseBetweenByTraverseTwice(head, left, right);
        return reverseBetweenByTraverseOnce(head, left, right);
    }
    
    // ä¸¤æ¬¡éå†åè½¬é“¾è¡¨åŒºé—´
    public ListNode reverseBetweenByTraverseTwice(ListNode head, int left, int right) {
        // å› ä¸ºå¤´èŠ‚ç‚¹æœ‰å¯èƒ½å‘ç”Ÿå˜åŒ–ï¼Œä½¿ç”¨è™šæ‹Ÿå¤´èŠ‚ç‚¹å¯ä»¥é¿å…å¤æ‚çš„åˆ†ç±»è®¨è®º
        // è®¾ç½® dummyNode æ˜¯è¿™ä¸€ç±»é—®é¢˜çš„ä¸€èˆ¬åšæ³•
        ListNode dummyNode = new ListNode(-1);
        dummyNode.next = head;
        ListNode pre = dummyNode;
        // ä»è™šæ‹Ÿå¤´èŠ‚ç‚¹èµ° left - 1 æ­¥ï¼Œæ¥åˆ° left èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹
        for (int i = 0; i < left - 1; ++i) {
            pre = pre.next;
        }
        // ç¬¬ 2 æ­¥ï¼šä» pre å†èµ° right - left + 1 æ­¥ï¼Œæ¥åˆ° right èŠ‚ç‚¹
        ListNode leftNode = pre.next;
        ListNode rightNode = pre.next;
        for (int i = left; i < right; i++) {
            rightNode = rightNode.next;
        }
        // ç¬¬ 3 æ­¥ï¼šåˆ‡æ–­å‡ºä¸€ä¸ªå­é“¾è¡¨ï¼ˆæˆªå–é“¾è¡¨ï¼‰
        ListNode cur = rightNode.next;
        // æ³¨æ„ï¼šåˆ‡æ–­é“¾æ¥
        pre.next = null;
        rightNode.next = null;
        // ç¬¬ 4 æ­¥ï¼šåè½¬é“¾è¡¨çš„å­åŒºé—´
        reverseLinkedList(leftNode);
        // ç¬¬ 5 æ­¥ï¼šæ¥å›åˆ°åŸæ¥çš„é“¾è¡¨ä¸­
        pre.next = rightNode;
        leftNode.next = cur;
        return dummyNode.next;
    }
    
    // åè½¬æ•´æ¡å•é“¾è¡¨
    public void reverseLinkedList(ListNode head) {
        ListNode last = null;
        ListNode cur = head;
        ListNode next = null;
        while (cur != null) {
            next = cur.next;
            cur.next = last;
            last = cur;
            cur = next;
        }
    }
    
    // ä¸€æ¬¡éå†åè½¬é“¾è¡¨åŒºé—´
    public ListNode reverseBetweenByTraverseOnce(ListNode head, int left, int right) {
        ListNode dummyNode = new ListNode(-1);
        dummyNode.next = head;
        ListNode pre = dummyNode;
        for (int i = 0; i < left - 1; ++i) {
            pre = pre.next;
        }
        ListNode cur = pre.next;
        ListNode next = null;
        for (int i = left; i < right; ++i) {
            next = cur.next;
            cur.next = next.next;
            next.next = pre.next;
            pre.next = next;
        }
        return dummyNode.next;
    }
    
}
```

---

> ğŸš©***last change: 2022/9/26***

---
